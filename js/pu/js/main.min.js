function imgLcation(){var e=document.querySelector(".container"),t=document.querySelectorAll(".box"),o=t[0].offsetWidth,n=document.body.clientWidth||document.documentElement.clientWidth,i=Math.floor(n/o),l=i*o;e.style.width=l+"px";for(var c=[],g=0;g<t.length;g++)if(g<i)c[g]=t[g].offsetHeight;else{var r=Math.min.apply(null,c);t[g].style.position="absolute",t[g].style.top=r+"px";var m=getMinHeightLocation(c,r);t[g].style.left=t[m].offsetLeft+"px",c[m]+=t[g].offsetHeight}console.log(m)}function getMinHeightLocation(e,t){for(var o in e)if(e[o]===t)return o}function getScroll(){var e=document.querySelectorAll(".box"),t=e.length-1,o=(e[t].offsetTop,document.body.clientHeight||document.documentElement.clientHeight),n=document.body.scrollTop;if(console.log(n),t<o+n)return!0}window.onload=function(){imgLcation();var e=[{img:"1.jpg"},{img:"2.jpg"},{img:"3.jpg"},{img:"4.jpg"},{img:"5.jpg"},{img:"6.jpg"},{img:"7.jpg"}];window.onscroll=function(){if(getScroll())for(var t=0;t<e.length;t++){var o=document.querySelector(".container"),n=document.createElement("div");n.className="box",o.appendChild(n);var i=document.createElement("img");i.src="img/"+e[t].img,n.appendChild(i)}imgLcation()}};